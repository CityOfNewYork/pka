QUnit.module('pka.htmlRenderer', {
	beforeEach: function(assert){
		setup(assert, this);
	},
	afterEach: function(assert){
		teardown(assert, this);
	}
});

QUnit.test('html (active application period)', function(assert){
	assert.expect(4);
	
	var done = assert.async();

	var schoolSrc = this.SCHOOL_SRC_ACTTIVE_APPLICATION_PERIOD;

	schoolSrc.on(nyc.ol.source.Decorating.LoaderEventType.FEATURESLOADED, function(){
		var div1 = $('<div></div>').append(schoolSrc.getFeatureById('15K001').html('css-class'));
		var div2 = $('<div></div>').append(schoolSrc.getFeatureById('13K003').html('css-class'));
		var div3 = $('<div></div>').append(schoolSrc.getFeatureById('16K005').html('css-class'));
		var div4 = $('<div></div>').append(schoolSrc.getFeatureById('07XBBK').html('css-class'));
		assert.equal(div1.html(), '<div id="css-class15K001" class="css-class info"><div class="inf-container"><div class="inf-name notranslate" translate="no"><img alt="" src="img/DOE.png">P.S. 1 The Bergen</div><div class="notranslate" translate="no">309 47th Street</div><div class="notranslate" translate="no">Brooklyn, NY 11220</div><div class="capitalize inf-btn pdf"><a data-role="button" href="" target="_blank" rel="noopener noreferrer"></a></div><div class="capitalize inf-btn contact"><div class="phone notranslate" translate="no"><a data-role="button" href="tel:718-567-7661">718-567-7661</a></div><div class="web" translate="no"><a data-role="button" href="http://schools.nyc.gov/schoolportals/15/k001" target="_blank" rel="noopener noreferrer">website</a></div></div><div class="inf-detail"><div class="code"><span class="inf-name">Program Code: 15K001</span></div><div class="email-lnk" translate="no"><a href="mailto:aramos4@schools.nyc.gov">aramos4@schools.nyc.gov</a></div><div class="inf-name">Program Features:</div><ul class="feats"><li>Breakfast/Lunch</li><li>Indoor/Outdoor (onsite) playspace</li><li>Daily Start Time: Contact program about start time</li><li>Early Drop Off Available: No</li><li>Late Pick Up Available: No</li></ul><div><b>Dual Language:</b> Spanish</div><div class="seats"><span class="inf-name">2015-16 Seats:</span></div><ul><li class="seats"><span class="inf-name">Pre-K: </span>138 Full day</li></ul><div class="capitalize inf-btn contact"><div class="email" translate="no"><a data-role="button" href="mailto:aramos4@schools.nyc.gov">email</a></div><div class="vcard"><a data-role="button" onclick="nyc.app.schoolVcard(\'15K001\');">contact</a></div></div></div><div class="capitalize inf-btn action"><div class="map"><a data-role="button" onclick="nyc.app.goToSchool(\'15K001\');">map</a></div><div class="directions"><a data-role="button" onclick="nyc.app.direct(\'15K001\');">direct</a></div><div class="detail"><a data-role="button" onclick="nyc.app.schoolDetail(\'css-class15K001\');">detail</a></div></div></div></div>');
		assert.equal(div2.html(), '<div id="css-class13K003" class="css-class info"><div class="inf-container"><div class="inf-name notranslate" translate="no"><img alt="" src="img/DOE.png">P.S. 3 The Bedford Village</div><div class="notranslate" translate="no">50 Jefferson Avenue</div><div class="notranslate" translate="no">Brooklyn, NY 11216</div><div class="capitalize inf-btn pdf"><a data-role="button" href="" target="_blank" rel="noopener noreferrer"></a></div><div class="capitalize inf-btn contact"><div class="phone notranslate" translate="no"><a data-role="button" href="tel:718-622-2960">718-622-2960</a></div><div class="web" translate="no"><a data-role="button" href="http://ps3brooklyn.org" target="_blank" rel="noopener noreferrer">website</a></div></div><div class="inf-detail"><div class="code"><span class="inf-name">Program Code: 13K003</span></div><div class="email-lnk" translate="no"><a href="mailto:ajohnson33@schools.nyc.gov">ajohnson33@schools.nyc.gov</a></div><div class="inf-name">Program Features:</div><ul class="feats"><li>Breakfast/Lunch</li><li>Indoor/Outdoor (onsite) playspace</li><li>Daily Start Time: 8:15 AM</li><li>Early Drop Off Available: Yes</li><li>Late Pick Up Available: Yes</li></ul><div class="seats"><span class="inf-name">2015-16 Seats:</span></div><ul><li class="seats"><span class="inf-name">Early Learn 3s: </span>30 Full day</li><li class="seats"><span class="inf-name">3-K: </span>20 Full day</li><li class="seats"><span class="inf-name">Pre-K: </span>90 Full day</li></ul><div class="capitalize inf-btn contact"><div class="email" translate="no"><a data-role="button" href="mailto:ajohnson33@schools.nyc.gov">email</a></div><div class="vcard"><a data-role="button" onclick="nyc.app.schoolVcard(\'13K003\');">contact</a></div></div></div><div class="capitalize inf-btn action"><div class="map"><a data-role="button" onclick="nyc.app.goToSchool(\'13K003\');">map</a></div><div class="directions"><a data-role="button" onclick="nyc.app.direct(\'13K003\');">direct</a></div><div class="detail"><a data-role="button" onclick="nyc.app.schoolDetail(\'css-class13K003\');">detail</a></div></div></div></div>');
		assert.equal(div3.html(), '<div id="css-class16K005" class="css-class info"><div class="inf-container"><div class="inf-name notranslate" translate="no"><img alt="" src="img/DOE.png">P.S. 5 Dr. Ronald Mcnair</div><div class="notranslate" translate="no">820 Hancock Street</div><div class="notranslate" translate="no">Brooklyn, NY 11233</div><div class="capitalize inf-btn pdf"><a data-role="button" href="" target="_blank" rel="noopener noreferrer"></a></div><div class="capitalize inf-btn contact"><div class="phone notranslate" translate="no"><a data-role="button" href="tel:718-218-2444">718-218-2444</a></div><div class="web" translate="no"><a data-role="button" href="http://schools.nyc.gov/schoolportals/16/k005" target="_blank" rel="noopener noreferrer">website</a></div></div><div class="inf-detail"><div class="code"><span class="inf-name">Program Code: 16K005</span></div><div class="email-lnk" translate="no"><a href="mailto:lgates@schools.nyc.gov">lgates@schools.nyc.gov</a></div><div class="inf-name">Program Features:</div><ul class="feats"><li>Breakfast/Lunch</li><li>Indoor/Outdoor (onsite) playspace</li><li>Daily Start Time: 8:00 AM</li><li>Early Drop Off Available: No</li><li>Late Pick Up Available: Yes</li></ul><div class="seats"><span class="inf-name">2015-16 Seats:</span></div><ul><li class="seats"><span class="inf-name">3-K: </span>10 Full day</li><li class="seats"><span class="inf-name">Pre-K: </span>36 Full day</li></ul><div class="capitalize inf-btn contact"><div class="email" translate="no"><a data-role="button" href="mailto:lgates@schools.nyc.gov">email</a></div><div class="vcard"><a data-role="button" onclick="nyc.app.schoolVcard(\'16K005\');">contact</a></div></div></div><div class="capitalize inf-btn action"><div class="map"><a data-role="button" onclick="nyc.app.goToSchool(\'16K005\');">map</a></div><div class="directions"><a data-role="button" onclick="nyc.app.direct(\'16K005\');">direct</a></div><div class="detail"><a data-role="button" onclick="nyc.app.schoolDetail(\'css-class16K005\');">detail</a></div></div></div></div>');
		assert.equal(div4.html(), '<div id="css-class07XBBK" class="css-class info"><div class="inf-container"><div class="inf-name notranslate" translate="no"><img alt="" src="img/NYCEEC.png">Harriet Tubman Sheltering Arm</div><div class="note"><b>Please note:</b> This program is not listed in the 3-K application. It may have income or other eligibility requirements. If you are interested in this program, or have more questions, please contact the program directly to apply or learn more.</div><div class="notranslate" translate="no">565 Morris Avenue</div><div class="notranslate" translate="no">Bronx, NY 10451</div><div class="capitalize inf-btn pdf"><a data-role="button" href="" target="_blank" rel="noopener noreferrer"></a></div><div class="capitalize inf-btn contact"><div class="phone notranslate full-width" translate="no"><a data-role="button" href="tel:917-410-3851">917-410-3851</a></div></div><div class="inf-detail"><div class="code"><span class="inf-name">Program Code: 07XBBK</span></div><div class="email-lnk" translate="no"><a href="mailto:kbrown@sheteringarmsny.org">kbrown@sheteringarmsny.org</a></div><div class="inf-name">Program Features:</div><ul class="feats"><li>Please contact site directly for information about meals</li><li>Please contact site directly for information about playspace</li><li>Daily Start Time: Contact program about start time</li><li>Early Drop Off Available: Contact program about extended hours</li><li>Late Pick Up Available: Contact program about extended hours</li></ul><div>Program may have income or other eligibility requirements. Contact for more information.</div><div class="seats"><span class="inf-name">2015-16 Seats:</span></div><ul><li class="seats"><span class="inf-name">Early Learn 3s: </span>105 Full day</li></ul><div class="capitalize inf-btn contact"><div class="email" translate="no"><a data-role="button" href="mailto:kbrown@sheteringarmsny.org">email</a></div><div class="vcard"><a data-role="button" onclick="nyc.app.schoolVcard(\'07XBBK\');">contact</a></div></div></div><div class="capitalize inf-btn action"><div class="map"><a data-role="button" onclick="nyc.app.goToSchool(\'07XBBK\');">map</a></div><div class="directions"><a data-role="button" onclick="nyc.app.direct(\'07XBBK\');">direct</a></div><div class="detail"><a data-role="button" onclick="nyc.app.schoolDetail(\'css-class07XBBK\');">detail</a></div></div></div></div>');
		done();
	});	

});

QUnit.test('html (not active application period)', function(assert){
	assert.expect(4);
	
	var done = assert.async();

	var schoolSrc = this.SCHOOL_SRC_NOT_ACTTIVE_APPLICATION_PERIOD;

	schoolSrc.on(nyc.ol.source.Decorating.LoaderEventType.FEATURESLOADED, function(){
		var div1 = $('<div></div>').append(schoolSrc.getFeatureById('15K001').html('css-class'));
		var div2 = $('<div></div>').append(schoolSrc.getFeatureById('13K003').html('css-class'));
		var div3 = $('<div></div>').append(schoolSrc.getFeatureById('16K005').html('css-class'));
		var div4 = $('<div></div>').append(schoolSrc.getFeatureById('07XBBK').html('css-class'));
		assert.equal(div1.html(), '<div id="css-class15K001" class="css-class info"><div class="inf-container"><div class="inf-name notranslate" translate="no"><img alt="" src="img/DOE.png">P.S. 1 The Bergen</div><div class="notranslate" translate="no">309 47th Street</div><div class="notranslate" translate="no">Brooklyn, NY 11220</div><div class="capitalize inf-btn pdf"><a data-role="button" href="" target="_blank" rel="noopener noreferrer"></a></div><div class="capitalize inf-btn contact"><div class="phone notranslate" translate="no"><a data-role="button" href="tel:718-567-7661">718-567-7661</a></div><div class="web" translate="no"><a data-role="button" href="http://schools.nyc.gov/schoolportals/15/k001" target="_blank" rel="noopener noreferrer">website</a></div></div><div class="inf-detail"><div class="code"><span class="inf-name">Program Code: 15K001</span></div><div class="email-lnk" translate="no"><a href="mailto:aramos4@schools.nyc.gov">aramos4@schools.nyc.gov</a></div><div class="inf-name">Program Features:</div><ul class="feats"><li>Breakfast/Lunch</li><li>Indoor/Outdoor (onsite) playspace</li><li>Daily Start Time: Contact program about start time</li><li>Early Drop Off Available: No</li><li>Late Pick Up Available: No</li></ul><div><b>Dual Language:</b> Spanish</div><div class="seats"><span class="inf-name">2015-16 Seats:</span></div><ul><li class="seats"><span class="inf-name">Pre-K: </span>138 Full day</li></ul><div class="capitalize inf-btn contact"><div class="email" translate="no"><a data-role="button" href="mailto:aramos4@schools.nyc.gov">email</a></div><div class="vcard"><a data-role="button" onclick="nyc.app.schoolVcard(\'15K001\');">contact</a></div></div></div><div class="capitalize inf-btn action"><div class="map"><a data-role="button" onclick="nyc.app.goToSchool(\'15K001\');">map</a></div><div class="directions"><a data-role="button" onclick="nyc.app.direct(\'15K001\');">direct</a></div><div class="detail"><a data-role="button" onclick="nyc.app.schoolDetail(\'css-class15K001\');">detail</a></div></div></div></div>');
		assert.equal(div2.html(), '<div id="css-class13K003" class="css-class info"><div class="inf-container"><div class="inf-name notranslate" translate="no"><img alt="" src="img/DOE.png">P.S. 3 The Bedford Village</div><div class="notranslate" translate="no">50 Jefferson Avenue</div><div class="notranslate" translate="no">Brooklyn, NY 11216</div><div class="capitalize inf-btn pdf"><a data-role="button" href="" target="_blank" rel="noopener noreferrer"></a></div><div class="capitalize inf-btn contact"><div class="phone notranslate" translate="no"><a data-role="button" href="tel:718-622-2960">718-622-2960</a></div><div class="web" translate="no"><a data-role="button" href="http://ps3brooklyn.org" target="_blank" rel="noopener noreferrer">website</a></div></div><div class="inf-detail"><div class="code"><span class="inf-name">Program Code: 13K003</span></div><div class="email-lnk" translate="no"><a href="mailto:ajohnson33@schools.nyc.gov">ajohnson33@schools.nyc.gov</a></div><div class="inf-name">Program Features:</div><ul class="feats"><li>Breakfast/Lunch</li><li>Indoor/Outdoor (onsite) playspace</li><li>Daily Start Time: 8:15 AM</li><li>Early Drop Off Available: Yes</li><li>Late Pick Up Available: Yes</li></ul><div class="seats"><span class="inf-name">2015-16 Seats:</span></div><ul><li class="seats"><span class="inf-name">Early Learn 3s: </span>30 Full day</li><li class="seats"><span class="inf-name">3-K: </span>20 Full day</li><li class="seats"><span class="inf-name">Pre-K: </span>90 Full day</li></ul><div class="capitalize inf-btn contact"><div class="email" translate="no"><a data-role="button" href="mailto:ajohnson33@schools.nyc.gov">email</a></div><div class="vcard"><a data-role="button" onclick="nyc.app.schoolVcard(\'13K003\');">contact</a></div></div></div><div class="capitalize inf-btn action"><div class="map"><a data-role="button" onclick="nyc.app.goToSchool(\'13K003\');">map</a></div><div class="directions"><a data-role="button" onclick="nyc.app.direct(\'13K003\');">direct</a></div><div class="detail"><a data-role="button" onclick="nyc.app.schoolDetail(\'css-class13K003\');">detail</a></div></div></div></div>');
		assert.equal(div3.html(), '<div id="css-class16K005" class="css-class info"><div class="inf-container"><div class="inf-name notranslate" translate="no"><img alt="" src="img/DOE.png">P.S. 5 Dr. Ronald Mcnair</div><div class="notranslate" translate="no">820 Hancock Street</div><div class="notranslate" translate="no">Brooklyn, NY 11233</div><div class="capitalize inf-btn pdf"><a data-role="button" href="" target="_blank" rel="noopener noreferrer"></a></div><div class="capitalize inf-btn contact"><div class="phone notranslate" translate="no"><a data-role="button" href="tel:718-218-2444">718-218-2444</a></div><div class="web" translate="no"><a data-role="button" href="http://schools.nyc.gov/schoolportals/16/k005" target="_blank" rel="noopener noreferrer">website</a></div></div><div class="inf-detail"><div class="code"><span class="inf-name">Program Code: 16K005</span></div><div class="email-lnk" translate="no"><a href="mailto:lgates@schools.nyc.gov">lgates@schools.nyc.gov</a></div><div class="inf-name">Program Features:</div><ul class="feats"><li>Breakfast/Lunch</li><li>Indoor/Outdoor (onsite) playspace</li><li>Daily Start Time: 8:00 AM</li><li>Early Drop Off Available: No</li><li>Late Pick Up Available: Yes</li></ul><div class="seats"><span class="inf-name">2015-16 Seats:</span></div><ul><li class="seats"><span class="inf-name">3-K: </span>10 Full day</li><li class="seats"><span class="inf-name">Pre-K: </span>36 Full day</li></ul><div class="capitalize inf-btn contact"><div class="email" translate="no"><a data-role="button" href="mailto:lgates@schools.nyc.gov">email</a></div><div class="vcard"><a data-role="button" onclick="nyc.app.schoolVcard(\'16K005\');">contact</a></div></div></div><div class="capitalize inf-btn action"><div class="map"><a data-role="button" onclick="nyc.app.goToSchool(\'16K005\');">map</a></div><div class="directions"><a data-role="button" onclick="nyc.app.direct(\'16K005\');">direct</a></div><div class="detail"><a data-role="button" onclick="nyc.app.schoolDetail(\'css-class16K005\');">detail</a></div></div></div></div>');
		assert.equal(div4.html(), '<div id="css-class07XBBK" class="css-class info"><div class="inf-container"><div class="inf-name notranslate" translate="no"><img alt="" src="img/NYCEEC.png">Harriet Tubman Sheltering Arm</div><div class="note"><b>Please note:</b> This program is not listed in the 3-K application. It may have income or other eligibility requirements. If you are interested in this program, or have more questions, please contact the program directly to apply or learn more.</div><div class="notranslate" translate="no">565 Morris Avenue</div><div class="notranslate" translate="no">Bronx, NY 10451</div><div class="capitalize inf-btn pdf"><a data-role="button" href="" target="_blank" rel="noopener noreferrer"></a></div><div class="capitalize inf-btn contact"><div class="phone notranslate full-width" translate="no"><a data-role="button" href="tel:917-410-3851">917-410-3851</a></div></div><div class="inf-detail"><div class="code"><span class="inf-name">Program Code: 07XBBK</span></div><div class="email-lnk" translate="no"><a href="mailto:kbrown@sheteringarmsny.org">kbrown@sheteringarmsny.org</a></div><div class="inf-name">Program Features:</div><ul class="feats"><li>Please contact site directly for information about meals</li><li>Please contact site directly for information about playspace</li><li>Daily Start Time: Contact program about start time</li><li>Early Drop Off Available: Contact program about extended hours</li><li>Late Pick Up Available: Contact program about extended hours</li></ul><div>Program may have income or other eligibility requirements. Contact for more information.</div><div class="seats"><span class="inf-name">2015-16 Seats:</span></div><ul><li class="seats"><span class="inf-name">Early Learn 3s: </span>105 Full day</li></ul><div class="capitalize inf-btn contact"><div class="email" translate="no"><a data-role="button" href="mailto:kbrown@sheteringarmsny.org">email</a></div><div class="vcard"><a data-role="button" onclick="nyc.app.schoolVcard(\'07XBBK\');">contact</a></div></div></div><div class="capitalize inf-btn action"><div class="map"><a data-role="button" onclick="nyc.app.goToSchool(\'07XBBK\');">map</a></div><div class="directions"><a data-role="button" onclick="nyc.app.direct(\'07XBBK\');">direct</a></div><div class="detail"><a data-role="button" onclick="nyc.app.schoolDetail(\'css-class07XBBK\');">detail</a></div></div></div></div>');
		done();
	});	

});