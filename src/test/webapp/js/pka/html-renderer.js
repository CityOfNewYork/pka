QUnit.module('pka.htmlRenderer', {
	beforeEach: function(assert){
		setup(assert, this);
	},
	afterEach: function(assert){
		teardown(assert, this);
	}
});

QUnit.test('html (active application period)', function(assert){
	assert.expect(3);
	
	var done = assert.async();

	var schoolSrc = this.SCHOOL_SRC_ACTTIVE_APPLICATION_PERIOD;

	schoolSrc.on(nyc.ol.source.Decorating.LoaderEventType.FEATURESLOADED, function(){
		var div1 = $('<div></div>').append(schoolSrc.getFeatureById('code1').html('css-class'));
		var div2 = $('<div></div>').append(schoolSrc.getFeatureById('code2').html('css-class'));
		var div3 = $('<div></div>').append(schoolSrc.getFeatureById('code3').html('css-class'));
		assert.equal(div1.html(), '<div id="css-classcode1" class="css-class info"><div class="inf-container"><div class="inf-name notranslate" translate="no"><img alt="" src="img/DOE.png">P.S. 1 The Bergen</div><div class="note"></div><div class="notranslate" translate="no">309 47th St</div><div class="notranslate" translate="no">Brooklyn, NY 11220</div><div class="capitalize inf-btn pdf"><a data-role="button" href="" target="_blank"></a></div><div class="capitalize inf-btn contact"><div class="phone notranslate" translate="no"><a data-role="button" href="tel:(718)%20567-7661">(718) 567-7661</a></div><div class="web" translate="no"><a data-role="button" href="http://schools.nyc.gov/schoolportals/15/k001" target="_blank">website</a></div></div><div class="inf-detail"><div class="code"><span class="inf-name">Program Code: code1</span></div><div class="email-lnk" translate="no"><a href="mailto:aramos4@schools.nyc.gov">aramos4@schools.nyc.gov</a></div><div class="inf-name">Program Features:</div><ul class="feats"><li>Breakfast</li><li>Indoor playspace</li><li>Daily Start Time: 9:00 AM</li><li>Early Drop Off Available: Contact program about extended hours</li><li>Late Pick Up Available: Contact program about extended hours</li></ul><div><b>Dual Language:</b> Spanish</div><div><b>Dual Language:</b> Greek</div><div><b>Dual Language:</b> Vietnamese</div><div><b>Enhanced Language Support:</b> Arabic</div><div><b>Enhanced Language Support:</b> Bengali</div><div><b>Enhanced Language Support:</b> French</div><div class="seats"><span class="inf-name">2015-16 Seats:</span></div><ul><li class="seats"><span class="inf-name">3-K: </span>30 Full day</li><li class="seats"><span class="inf-name">Pre-K: </span>125 Full day</li></ul><div class="capitalize inf-btn contact"><div class="email" translate="no"><a data-role="button" href="mailto:aramos4@schools.nyc.gov">email</a></div><div class="vcard"><a data-role="button" onclick="nyc.app.schoolVcard(\'code1\');">contact</a></div></div></div><div class="capitalize inf-btn action"><div class="map"><a data-role="button" onclick="nyc.app.goToSchool(\'code1\');">map</a></div><div class="directions"><a data-role="button" onclick="nyc.app.direct(\'code1\');">direct</a></div><div class="detail"><a data-role="button" onclick="nyc.app.schoolDetail(\'css-classcode1\');">detail</a></div></div></div></div>');
		assert.equal(div2.html(), '<div id="css-classcode2" class="css-class info"><div class="inf-container"><div class="inf-name notranslate" translate="no"><img alt="" src="img/CHARTER.png">P.S. 3 The Bedford Village</div><div class="note"></div><div class="notranslate" translate="no">50 Jefferson Ave</div><div class="notranslate" translate="no">Brooklyn, NY 11216</div><div class="capitalize inf-btn pdf"><a data-role="button" href="" target="_blank"></a></div><div class="capitalize inf-btn apply"><a data-role="button" href="https://prod.semsnycdoe.com/parentsite/" target="_blank">apply now</a></div><div class="capitalize inf-btn contact"><div class="phone notranslate" translate="no"><a data-role="button" href="tel:(718)%20622-2960">(718) 622-2960</a></div><div class="web" translate="no"><a data-role="button" href="http://ps3brooklyn.org" target="_blank">website</a></div></div><div class="inf-detail"><div class="code"><span class="inf-name">Program Code: code2</span></div><div class="email-lnk" translate="no"><a href="mailto:ajohnson33@schools.nyc.gov">ajohnson33@schools.nyc.gov</a></div><div class="inf-name">Program Features:</div><ul class="feats"><li>Breakfast/Lunch</li><li>Indoor/Outdoor (offsite) playspace</li><li>Daily Start Time: Contact program about start time</li><li>Early Drop Off Available: Contact program about extended hours</li><li>Late Pick Up Available: Contact program about extended hours</li></ul><div><b>Alert:</b> Program may utilize flexible scheduling policy. Please contact program directly for details about pre-K schedule.</div><div><b>Alert:</b> If your child has an IEP recommending Related Services and/or SEIT, contact the program directly for more information before applying.</div><div>message goes here</div><div>Program may have income or other eligibility requirements. Contact for more information.</div><div class="seats"><span class="inf-name">2015-16 Seats:</span></div><ul><li class="seats"><span class="inf-name">Pre-K: </span>90 Full day</li></ul><div class="capitalize inf-btn contact"><div class="email" translate="no"><a data-role="button" href="mailto:ajohnson33@schools.nyc.gov">email</a></div><div class="vcard"><a data-role="button" onclick="nyc.app.schoolVcard(\'code2\');">contact</a></div></div></div><div class="capitalize inf-btn action"><div class="map"><a data-role="button" onclick="nyc.app.goToSchool(\'code2\');">map</a></div><div class="directions"><a data-role="button" onclick="nyc.app.direct(\'code2\');">direct</a></div><div class="detail"><a data-role="button" onclick="nyc.app.schoolDetail(\'css-classcode2\');">detail</a></div></div></div></div>');
		assert.equal(div3.html(), '<div id="css-classcode3" class="css-class info"><div class="inf-container"><div class="inf-name notranslate" translate="no"><img alt="" src="img/NYCEEC.png">P.S. 5 Dr. Ronald Mcnair</div><div class="note"></div><div class="notranslate" translate="no">820 Hancock St</div><div class="notranslate" translate="no">Brooklyn, NY 11233</div><div class="capitalize inf-btn pdf"><a data-role="button" href="" target="_blank"></a></div><div class="capitalize inf-btn contact"><div class="phone notranslate" translate="no"><a data-role="button" href="tel:(718)%20574-2333">(718) 574-2333</a></div><div class="web" translate="no"><a data-role="button" href="http://schools.nyc.gov/schoolportals/16/k005" target="_blank">website</a></div></div><div class="inf-detail"><div class="code"><span class="inf-name">Program Code: code3</span></div><div class="email-lnk" translate="no"><a href="mailto:lgates@schools.nyc.gov">lgates@schools.nyc.gov</a></div><div class="inf-name">Program Features:</div><ul class="feats"><li>Breakfast/Lunch/Snack(s)</li><li>Indoor/Outdoor (onsite) playspace</li><li>Daily Start Time: 8:00 AM</li><li>Early Drop Off Available: Contact program about extended hours</li><li>Late Pick Up Available: Contact program about extended hours</li></ul><div><b>Dual Language:</b> Urdu</div><div class="seats"><span class="inf-name">2015-16 Seats:</span></div><ul><li class="seats"><span class="inf-name">Pre-K: </span>36 Full day</li></ul><div class="capitalize inf-btn contact"><div class="email" translate="no"><a data-role="button" href="mailto:lgates@schools.nyc.gov">email</a></div><div class="vcard"><a data-role="button" onclick="nyc.app.schoolVcard(\'code3\');">contact</a></div></div></div><div class="capitalize inf-btn action"><div class="map"><a data-role="button" onclick="nyc.app.goToSchool(\'code3\');">map</a></div><div class="directions"><a data-role="button" onclick="nyc.app.direct(\'code3\');">direct</a></div><div class="detail"><a data-role="button" onclick="nyc.app.schoolDetail(\'css-classcode3\');">detail</a></div></div></div></div>');
		done();
	});	

});

QUnit.test('html (not active application period)', function(assert){
	assert.expect(3);
	
	var done = assert.async();

	var schoolSrc = this.SCHOOL_SRC_NOT_ACTTIVE_APPLICATION_PERIOD;

	schoolSrc.on(nyc.ol.source.Decorating.LoaderEventType.FEATURESLOADED, function(){
		var div1 = $('<div></div>').append(schoolSrc.getFeatureById('code1').html('css-class'));
		var div2 = $('<div></div>').append(schoolSrc.getFeatureById('code2').html('css-class'));
		var div3 = $('<div></div>').append(schoolSrc.getFeatureById('code3').html('css-class'));
		assert.equal(div1.html(), '<div id="css-classcode1" class="css-class info"><div class="inf-container"><div class="inf-name notranslate" translate="no"><img alt="" src="img/DOE.png">P.S. 1 The Bergen</div><div class="note"></div><div class="notranslate" translate="no">309 47th St</div><div class="notranslate" translate="no">Brooklyn, NY 11220</div><div class="capitalize inf-btn pdf"><a data-role="button" href="" target="_blank"></a></div><div class="capitalize inf-btn contact"><div class="phone notranslate" translate="no"><a data-role="button" href="tel:(718)%20567-7661">(718) 567-7661</a></div><div class="web" translate="no"><a data-role="button" href="http://schools.nyc.gov/schoolportals/15/k001" target="_blank">website</a></div></div><div class="inf-detail"><div class="code"><span class="inf-name">Program Code: code1</span></div><div class="email-lnk" translate="no"><a href="mailto:aramos4@schools.nyc.gov">aramos4@schools.nyc.gov</a></div><div class="inf-name">Program Features:</div><ul class="feats"><li>Breakfast</li><li>Indoor playspace</li><li>Daily Start Time: 9:00 AM</li><li>Early Drop Off Available: Contact program about extended hours</li><li>Late Pick Up Available: Contact program about extended hours</li></ul><div><b>Dual Language:</b> Spanish</div><div><b>Dual Language:</b> Greek</div><div><b>Dual Language:</b> Vietnamese</div><div><b>Enhanced Language Support:</b> Arabic</div><div><b>Enhanced Language Support:</b> Bengali</div><div><b>Enhanced Language Support:</b> French</div><div class="seats"><span class="inf-name">2015-16 Seats:</span></div><ul><li class="seats"><span class="inf-name">3-K: </span>30 Full day</li><li class="seats"><span class="inf-name">Pre-K: </span>125 Full day</li></ul><div class="capitalize inf-btn contact"><div class="email" translate="no"><a data-role="button" href="mailto:aramos4@schools.nyc.gov">email</a></div><div class="vcard"><a data-role="button" onclick="nyc.app.schoolVcard(\'code1\');">contact</a></div></div></div><div class="capitalize inf-btn action"><div class="map"><a data-role="button" onclick="nyc.app.goToSchool(\'code1\');">map</a></div><div class="directions"><a data-role="button" onclick="nyc.app.direct(\'code1\');">direct</a></div><div class="detail"><a data-role="button" onclick="nyc.app.schoolDetail(\'css-classcode1\');">detail</a></div></div></div></div>');
		assert.equal(div2.html(), '<div id="css-classcode2" class="css-class info"><div class="inf-container"><div class="inf-name notranslate" translate="no"><img alt="" src="img/CHARTER.png">P.S. 3 The Bedford Village</div><div class="note"></div><div class="notranslate" translate="no">50 Jefferson Ave</div><div class="notranslate" translate="no">Brooklyn, NY 11216</div><div class="capitalize inf-btn pdf"><a data-role="button" href="" target="_blank"></a></div><div class="capitalize inf-btn contact"><div class="phone notranslate" translate="no"><a data-role="button" href="tel:(718)%20622-2960">(718) 622-2960</a></div><div class="web" translate="no"><a data-role="button" href="http://ps3brooklyn.org" target="_blank">website</a></div></div><div class="inf-detail"><div class="code"><span class="inf-name">Program Code: code2</span></div><div class="email-lnk" translate="no"><a href="mailto:ajohnson33@schools.nyc.gov">ajohnson33@schools.nyc.gov</a></div><div class="inf-name">Program Features:</div><ul class="feats"><li>Breakfast/Lunch</li><li>Indoor/Outdoor (offsite) playspace</li><li>Daily Start Time: Contact program about start time</li><li>Early Drop Off Available: Contact program about extended hours</li><li>Late Pick Up Available: Contact program about extended hours</li></ul><div><b>Alert:</b> Program may utilize flexible scheduling policy. Please contact program directly for details about pre-K schedule.</div><div><b>Alert:</b> If your child has an IEP recommending Related Services and/or SEIT, contact the program directly for more information before applying.</div><div>message goes here</div><div>Program may have income or other eligibility requirements. Contact for more information.</div><div class="seats"><span class="inf-name">2015-16 Seats:</span></div><ul><li class="seats"><span class="inf-name">Pre-K: </span>90 Full day</li></ul><div class="capitalize inf-btn contact"><div class="email" translate="no"><a data-role="button" href="mailto:ajohnson33@schools.nyc.gov">email</a></div><div class="vcard"><a data-role="button" onclick="nyc.app.schoolVcard(\'code2\');">contact</a></div></div></div><div class="capitalize inf-btn action"><div class="map"><a data-role="button" onclick="nyc.app.goToSchool(\'code2\');">map</a></div><div class="directions"><a data-role="button" onclick="nyc.app.direct(\'code2\');">direct</a></div><div class="detail"><a data-role="button" onclick="nyc.app.schoolDetail(\'css-classcode2\');">detail</a></div></div></div></div>');
		assert.equal(div3.html(), '<div id="css-classcode3" class="css-class info"><div class="inf-container"><div class="inf-name notranslate" translate="no"><img alt="" src="img/NYCEEC.png">P.S. 5 Dr. Ronald Mcnair</div><div class="note"></div><div class="notranslate" translate="no">820 Hancock St</div><div class="notranslate" translate="no">Brooklyn, NY 11233</div><div class="capitalize inf-btn pdf"><a data-role="button" href="" target="_blank"></a></div><div class="capitalize inf-btn contact"><div class="phone notranslate" translate="no"><a data-role="button" href="tel:(718)%20574-2333">(718) 574-2333</a></div><div class="web" translate="no"><a data-role="button" href="http://schools.nyc.gov/schoolportals/16/k005" target="_blank">website</a></div></div><div class="inf-detail"><div class="code"><span class="inf-name">Program Code: code3</span></div><div class="email-lnk" translate="no"><a href="mailto:lgates@schools.nyc.gov">lgates@schools.nyc.gov</a></div><div class="inf-name">Program Features:</div><ul class="feats"><li>Breakfast/Lunch/Snack(s)</li><li>Indoor/Outdoor (onsite) playspace</li><li>Daily Start Time: 8:00 AM</li><li>Early Drop Off Available: Contact program about extended hours</li><li>Late Pick Up Available: Contact program about extended hours</li></ul><div><b>Dual Language:</b> Urdu</div><div class="seats"><span class="inf-name">2015-16 Seats:</span></div><ul><li class="seats"><span class="inf-name">Pre-K: </span>36 Full day</li></ul><div class="capitalize inf-btn contact"><div class="email" translate="no"><a data-role="button" href="mailto:lgates@schools.nyc.gov">email</a></div><div class="vcard"><a data-role="button" onclick="nyc.app.schoolVcard(\'code3\');">contact</a></div></div></div><div class="capitalize inf-btn action"><div class="map"><a data-role="button" onclick="nyc.app.goToSchool(\'code3\');">map</a></div><div class="directions"><a data-role="button" onclick="nyc.app.direct(\'code3\');">direct</a></div><div class="detail"><a data-role="button" onclick="nyc.app.schoolDetail(\'css-classcode3\');">detail</a></div></div></div></div>');
		done();
	});	

});